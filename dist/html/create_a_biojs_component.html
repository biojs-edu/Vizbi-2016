<html>

    <head>
        <meta charset="UTF8">
        <link rel="stylesheet" type="text/css" href="../css/App.css">
        <link rel="stylesheet" type="text/css" href="../css/markdown.css">
        
        <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/zenburn.min.css">
		<script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
        <link rel="stylesheet" type="text/css" href="../css/biojs.css">
    </head>
    
    <body>
        
        <div class="reveal">
        
            <div class="slides">
                <section>
                     <h1>BioJS</h1>
                     <h4>Reuse, <b>develop</b> and share biological visualisation with BioJS</h4>
                    <div class="bounce arrow"></div>
                </section>
                <section>
                     <h3>TASK</h3>
                     <h4>Create a BioJS component that displays a barchart that visualizes de contribution of the bases of a biological sequence.</h4>
                </section>
                <section>
                	<section>
						<h2>What does it takes to be a BioJS component?</h2>
						<div>
							<p class="first_in_slide left fragment fade-in">Not much!<br/><br/>
							<span class="fragment fade-in">There are only 3 requirements to be in the BioJS registry:</span></p>
							<ol>
								<li class="fragment fade-in">The component has to be published in npm</li>
								<li class="fragment fade-in">The code component has to be in github</li>
								<li class="fragment fade-in">The keyword <code class="inline">biojs</code> needs to be included in the package.json</li>
							</ol>
						</div>
					</section>
					<section>
						<p class="first_in_slide left">And a few <b>conventions</b>:</p>
						<ul>
							<li class="fragment fade-in">Names: <code class="inline">biojs-[io/rest/vis/algo/…]-[name]</code></li>
							<li class="fragment fade-in">Versioning: <a href="https://docs.npmjs.com/getting-started/semantic-versioning">Semver</a></li>
							<li class="fragment fade-in">Documentation: Use Readme.MD in your github repo</li>
						</ul>
					</section>
					<section>
						<div class="left top">
						<p class="first_in_slide left">But there are many <b>common</b> parts among BioJS components:</p>
						<ul>
							<li class="fragment fade-in">Packaging</li>
							<li class="fragment fade-in">Styling</li>
							<li class="fragment fade-in">Demostrating</li>
							<li class="fragment fade-in">Testing</li>
							<li class="fragment fade-in">Linting</li>
						</ul>
						</div>
					</section>
                </section>
				<section>
					<section>
						<h2>Bootstrapping</h2>
					</section>
					<section>
						<h3>Slush</h3>
						<br/>
						<div class='left' style='float:left;width:30%'>
							<img src="http://slushjs.github.io/assets/slush.png" style="border:0px"/>
						</div>    
						<div class='right' style='float:right;width:68%'>
							<ul>
								<li>Help you generate new project structures</li>
								<li>You don’t need to use it, but it simplifies the work</li>
								<li>In order to install slush globally:
<pre><code class="bash">$ npm install -g slush
$ slush -v
[slush] 1.1.1
</code></pre>
								</li>
								<li>And to install the BioJS slush:
								    <pre><code class="bash">$ npm install -g slush-biojs</code></pre>
								</li>
							</ul>
						</div>
					</section>
					<section>
						<h3>Create your example project.</h3>
<pre><code class="bash" style="max-height: 500px;">$ mkdir biojs-vis-example
$ cd biojs-vis-example
$ slush biojs
[slush] Using slushfile /usr/local/lib/node_modules/slush-biojs/slushfile.js
[16:53:59] Starting 'biojs:default'...
? Module name? (required) biojs-vis-example
? Description? Creating a basic example for biojs
? Module version? 0.1.0
? Author name? gsalazar
? Author email? gsalazar@ebi.ac.uk
? Github username? 4ndr01d3
? Keywords for npm (separate with comma) biojs,barchart,d3
? A visualization lib? Yes
? Unit tests: No
? Add a example css file? Yes
? Configure a build system? (Gulp) No
? Linting (Check code style with JSHint) No
? Choose your license type: Apache-2.0
? Is this correct? Yes
</code></pre>
					</section>
					<section>
						<h3>What did we get?</h3>
						<br/>
						<div class='left' style='float:left;width:30%'>
							<img src="../img/biojs_folders.png" style="border:0px"/>
						</div>    
						<div class='right' style='float:right;width:68%'>
							<p class='left' >Available npm commands:
<pre><code class="bash">$ npm run test</code></pre>
<pre><code class="bash">$ npm run sniper</code></pre>
<pre><code class="bash">$ npm run watch</code></pre>
<pre><code class="bash">$ npm run css</code></pre>
<pre><code class="bash">$ npm run w
...
running: http://localhost:9090
...
</code></pre>
<img src="../img/biojs_slush_result.png" />
					</section>
					<section>
						<h3>Playing with the example</h3>
						<br/>
						<p class='left' >While <code class="inline">npm run w</code> is running open the example file <code class="inline">biojs-vis-example/examples/simple.js</code> in your favourite editor:</p>
<pre><code class="javascript">// if you don't specify a html file, the sniper will generate a div with id "rootDiv"
var app = require("biojs-vis-example");
var instance = new app({el: rootDiv, text: 'biojs'});</code></pre>
						<p class="left">Then try changing the <code class="inline">text</code> option and refreshing your browser.</p>
					</section>
					<section>
						<p class="left">The <code class="inline">npm run w</code> action, detects changes in your files, re-bundles the <code class="inline">biojs-vis-example/build/example.js</code> file, same for the CSS file, and exposes the result on <a href="http://localhost:9090/examples/simple">http://localhost:9090/examples/simple</a></p>
						<div class="fragment fade-in"><br/>
							<p class="left">Change the CSS: <code class="inline">biojs-vis-example/css/main.css</code>
							<pre><code class="css">.header {
	font-weight: bold;
	color: green;
}
</code></pre>
							<p class="left">And add the following line at the end of the <code class="inline">biojsvisexample</code> function, in the JavaScript file: <code class="inline">biojs-vis-example/lib/index.js</code>
							<pre><code class="css">this.el.setAttribute("class", "header");</code></pre>
						</div>
					</section>

				</section>
				<section>
					<section>
						<h2>Modules and Dependencies</h2>
					</section>
					<section>
						<h3>Modules in Node.js</h3>
						<p><a href="https://nodejs.org/api/modules.html">https://nodejs.org/api/modules.html</a></p>
						<br/>
						<p class='left' >Files and modules are in one-to-one correspondence.</p>
						<div class="fragment fade-in"><br/>
							<p class='left' >Export 1 object per file, assigning it to <code class="inline">module.exports</code>. For example the file <code class="inline">biojs-vis-example/lib/example.js</code>:</p>
							<pre><code class="javascript">module.exports = " - from another module";</code></pre>
						</div>
						<div class="fragment fade-in"><br/>
							<p class='left' >And to import it in another file you can use the function <code class="inline">require()</code>. For example in the file <code class="inline">biojs-vis-example/lib/index.js</code>:</p>
							<pre><code class="javascript">var example = require("./example.js");
console.log(example); // - from another module</code></pre>
						</div>
						<br/>
					</section>
					<section>
						<h3>Next Task</h3>
						<br/>
						<p class='left' >Remove the functionality of displaying <code class="inline">"Hello BioJS"</code> and make it show <code class="inline">"BARCHART"</code>, but the code should be in a separate module.</p>
						<br/>
						<div class="fragment fade-in">
							<p class='left' ><code class="inline">biojs-vis-example/lib/barchart.js</code>:</p>
							<pre><code class="javascript">var Barchart = function(opts) {
	var container = opts.el;
	container.textContent = "BARCHART";
	container.setAttribute("class", "header");
}
module.exports = Barchart;
</code></pre>
						</div>
						<div class="fragment fade-in">
							<p class='left' ><code class="inline">biojs-vis-example/lib/index.js</code>:</p>
							<pre><code class="javascript">var  biojsvisexample;
var Barchart = require("./barchart.js");
module.exports = biojsvisexample = function(opts){
	var bc = new Barchart(opts);
};
</code></pre>
						</div>
					</section>
					<section>
						<h3>Dependencies in Node.js</h3>
						<br/>
						<p class='left' >Using npm is possible to install any module that is in the repository. For example:</p>
						<pre><code class="bash">npm i d3 --save</code></pre>
						<p class='left' >And then you can use it as a module in your files with:</p>
						<pre><code class="javascript">var d3 = require('d3');</code></pre>
					</section>
					<section>
						<h3>Next Task</h3>
						<br/>
						<p class='left' >Refactor your code to use D3 to manipulate your DOM.</p>
						<br/>
						<div class="fragment fade-in">
							<p class='left' ><code class="inline">biojs-vis-example/lib/barchart.js</code>:</p>
							<pre><code class="javascript">var d3 = require("d3");

var Barchart = function(opts) {
  var container = opts.el;

  d3.select(container)
    .attr("class", "header")
    .text("Space for a barchart with D3!");
}

module.exports = Barchart;
</code></pre>
						</div>
					</section>
				</section>
				<section>
					<h2>Data Processing</h2>
				</section>
				<section>
					<h2>Visualizing</h2>
					<a href="https://bost.ocks.org/mike/bar/">https://bost.ocks.org/mike/bar/</a>
				</section>
				<section>
					<h2>Publishing</h2>
				</section>
                <section>
                    <p><a href="../index.html#/1">Back to program</a></p>
                </section>
            </div>
        </div>
        <div class="reveal"  style="position: absolute;top: 1%;left: 1%%;">
			<div class="logo"></div>
		</div>
        <div class="reveal"  style="position: absolute;top: 4%;left: 8%;">
			<h4 class="vizbi">@ VIZBI 2016</h4>
		</div>
        
    <script src="../js/App.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>